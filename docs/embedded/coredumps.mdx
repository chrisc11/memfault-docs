---
id: coredumps
title: Coredump Collection
sidebar_label: Coredumps
---

import IntegrationCompletePrerequisite from "./integration-complete-prerequisite.mdx";

This tutorial will cover integrating the coredump collection functionality of
the [Memfault Firmware SDK](https://github.com/memfault/memfault-firmware-sdk)
into your system.

With coredumps integrated, variable, register, & task state can all be collected
at the time a fault, assert, or unexpected error takes place.

![](/img/docs/embedded/logs-with-coredump.png)

<IntegrationCompletePrerequisite />

### Platform specific storage region for crash data

When a crash takes place, a snapshot of the state needs to be stored in a
storage area that persists across a device reboot.

We typically recommend starting with the RAM backed Coredump port from
[`memfault_platform_ram_backed_coredump.c`](https://github.com/memfault/memfault-firmware-sdk/blob/master/ports/panics/src/memfault_platform_ram_backed_coredump.c#L7-L31)

By default this will only save the top of the stack at the time of crash but it
lets you quickly get coredumps up and running and get a feel for how things
work.

Coredump data can also be stored to any other backing storage (eMMC, external
NOR flash, internal flash, etc). We have a number of ports available for
different MCUs in the
[`ports`](https://github.com/memfault/memfault-firmware-sdk/blob/master/ports)
directory of the memfault-firmware-sdk or you can add your own port by
implementing the required
[dependencies](https://github.com/memfault/memfault-firmware-sdk/blob/master/components/include/memfault/panics/platform/coredump.h)

### Rebooting after a coredump

At the very end of saving a coredump, the `memfault_platform_reboot()` function
implemented as part of your initial port will be called. From here any final
system cleanup can be performed before restarting the system
